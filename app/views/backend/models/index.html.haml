-content_for :title, _("List of Inventory")
#inventory.innercontent

  .top
    %h1= yield :title
    
  .content_navigation
    #approve.multibutton
      .alternatives
        .trigger
          .arrow
        %a.button.white
          .additem.icon
          = _("Add Model") 
        %a.button.white
          .additem.icon
          = _("Add Package") 
        %a.button.white
          .valuelist.icon
          = _("CSV Export") 
      %a.button.white
        .additem.icon
        = _("Add Item") 
  
  %section
    .inlinetabs
      = link_to backend_inventory_pool_models_path(current_inventory_pool, :query => params[:query]), :class => "tab#{' active' if params[:borrowable].blank? and params[:retired].blank?}" do
        %span.text= _("All")
      = link_to backend_inventory_pool_models_path(current_inventory_pool, :borrowable => true, :query => params[:query]), :class => "tab#{' active' if params[:borrowable].to_s == 'true'}" do
        %span.text= _("Borrowable")
      = link_to backend_inventory_pool_models_path(current_inventory_pool, :borrowable => false, :query => params[:query]), :class => "tab#{' active' if params[:borrowable].to_s == 'false'}" do
        %span.text= _("Not Borrowable")
      = link_to backend_inventory_pool_models_path(current_inventory_pool, :retired => true, :query => params[:query]), :class => "tab#{' active' if params[:retired].to_s == 'true'}" do
        %span.text= _("Retired")
    
    .list
      %ul.navigation.line
        %li.search
          = form_tag("", :method => :get, :autocomplete => :off) do
            %input{:type => "text", :name => "query", :value => "#{params[:query]}", :placeholder => _("Suchen..."), :class => "clearable"}
            = image_tag "loading.gif", :class => "loading"
          = image_tag "loading.gif", :class => "loading"
        %li.filter
          %label
            %input{:type => :checkbox}
            %span= _("In Stock")
          %label
            %input{:type => :checkbox}
            %span= _("Incomplete")
          %label
            %input{:type => :checkbox}
            %span= _("Broken")
          %label
            %input{:type => :checkbox}
            %span= _("Owned")
          %label.select{:for => "#responsibles"}
            %span= _("Responsible")
            %select#responsibles{:title => _("Responsible Department")}
              - @responsibles.each do |ip|
                %option= ip.name
      - if @models_and_options.blank?
        %ul.line
          %li.name
            %strong
              = _("No entry found")
              - unless params[:query].blank?
                = _("for '%s'") % params[:query]
  
  - unless @models_and_options.blank?
    .pagination_container

:coffeescript
  jQuery -> new App.InventoryController
