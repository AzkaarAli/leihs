indexer
{
}

searchd
{
  listen = 127.0.0.1:9312
  log = /Users/itz/Documents/workspace/leihs/log/searchd.log
  query_log = /Users/itz/Documents/workspace/leihs/log/searchd.query.log
  pid_file = /Users/itz/Documents/workspace/leihs/log/searchd.cucumber.pid
}

source category_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `model_groups` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `model_groups`.`id` * 11 + 0 AS `id` , `model_groups`.`name` AS `name`, `model_groups`.`id` AS `id`, LOWER(`model_groups`.`id`) AS `sphinx_internal_id`, LOWER(CAST(IFNULL(CRC32(NULLIF(`model_groups`.`type`,'')), 4282022807) AS UNSIGNED)) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`model_groups`.`name`, '')) AS `name_sort`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`inventory_pools`.`id`, '0') SEPARATOR ',')) AS `inventory_pool_id` FROM `model_groups`    LEFT OUTER JOIN `inventory_pools_model_groups` ON `inventory_pools_model_groups`.model_group_id = `model_groups`.id  LEFT OUTER JOIN `inventory_pools` ON `inventory_pools`.id = `inventory_pools_model_groups`.inventory_pool_id  WHERE `model_groups`.`id` >= $start AND `model_groups`.`id` <= $end AND `model_groups`.`delta` = 0 AND `model_groups`.`type` = 'Category' GROUP BY `model_groups`.`id`, `model_groups`.`type`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `model_groups` WHERE `model_groups`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_str2ordinal = name_sort
  sql_attr_multi = uint inventory_pool_id from field
  sql_query_info = SELECT * FROM `model_groups` WHERE `id` = (($id - 0) / 11)
}

index category_core
{
  source = category_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/category_core
  charset_type = utf-8
}

source category_delta_0 : category_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `model_groups`.`id` * 11 + 0 AS `id` , `model_groups`.`name` AS `name`, `model_groups`.`id` AS `id`, LOWER(`model_groups`.`id`) AS `sphinx_internal_id`, LOWER(CAST(IFNULL(CRC32(NULLIF(`model_groups`.`type`,'')), 4282022807) AS UNSIGNED)) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`model_groups`.`name`, '')) AS `name_sort`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`inventory_pools`.`id`, '0') SEPARATOR ',')) AS `inventory_pool_id` FROM `model_groups`    LEFT OUTER JOIN `inventory_pools_model_groups` ON `inventory_pools_model_groups`.model_group_id = `model_groups`.id  LEFT OUTER JOIN `inventory_pools` ON `inventory_pools`.id = `inventory_pools_model_groups`.inventory_pool_id  WHERE `model_groups`.`id` >= $start AND `model_groups`.`id` <= $end AND `model_groups`.`delta` = 1 AND `model_groups`.`type` = 'Category' GROUP BY `model_groups`.`id`, `model_groups`.`type`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `model_groups` WHERE `model_groups`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_str2ordinal = name_sort
  sql_attr_multi = uint inventory_pool_id from field
  sql_query_info = SELECT * FROM `model_groups` WHERE `id` = (($id - 0) / 11)
}

index category_delta : category_core
{
  source = category_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/category_delta
}

index category
{
  type = distributed
  local = category_delta
  local = category_core
}

source contract_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `contracts` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `contracts`.`id` * 11 + 1 AS `id` , `contracts`.`id` AS `id`, `contracts`.`note` AS `note`, `users`.`login` AS `user_login`, `users`.`firstname` AS `user_firstname`, `users`.`lastname` AS `user_lastname`, `users`.`badge_id` AS `user_badge_id`, GROUP_CONCAT(DISTINCT IFNULL(`models`.`name`, '0') SEPARATOR ' ') AS `model_names`, GROUP_CONCAT(DISTINCT IFNULL(`items`.`inventory_code`, '0') SEPARATOR ' ') AS `items_inventory_code`, LOWER(`contracts`.`id`) AS `sphinx_internal_id`, LOWER(284772879) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(`contracts`.`inventory_pool_id`) AS `inventory_pool_id`, LOWER(`contracts`.`user_id`) AS `user_id`, LOWER(`contracts`.`status_const`) AS `status_const` FROM `contracts`    LEFT OUTER JOIN `users` ON `users`.id = `contracts`.user_id   LEFT OUTER JOIN `contract_lines` ON (`contracts`.`id` = `contract_lines`.`contract_id`)  LEFT OUTER JOIN `models` ON (`models`.`id` = `contract_lines`.`model_id`)   LEFT OUTER JOIN `contract_lines` items_contracts_join ON (`contracts`.`id` = `items_contracts_join`.`contract_id`)  LEFT OUTER JOIN `items` ON (`items`.`id` = `items_contracts_join`.`item_id`)  WHERE `contracts`.`id` >= $start AND `contracts`.`id` <= $end AND `contracts`.`delta` = 0 GROUP BY `contracts`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `contracts` WHERE `contracts`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = inventory_pool_id
  sql_attr_uint = user_id
  sql_attr_uint = status_const
  sql_query_info = SELECT * FROM `contracts` WHERE `id` = (($id - 1) / 11)
}

index contract_core
{
  source = contract_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/contract_core
  charset_type = utf-8
}

source contract_delta_0 : contract_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `contracts`.`id` * 11 + 1 AS `id` , `contracts`.`id` AS `id`, `contracts`.`note` AS `note`, `users`.`login` AS `user_login`, `users`.`firstname` AS `user_firstname`, `users`.`lastname` AS `user_lastname`, `users`.`badge_id` AS `user_badge_id`, GROUP_CONCAT(DISTINCT IFNULL(`models`.`name`, '0') SEPARATOR ' ') AS `model_names`, GROUP_CONCAT(DISTINCT IFNULL(`items`.`inventory_code`, '0') SEPARATOR ' ') AS `items_inventory_code`, LOWER(`contracts`.`id`) AS `sphinx_internal_id`, LOWER(284772879) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(`contracts`.`inventory_pool_id`) AS `inventory_pool_id`, LOWER(`contracts`.`user_id`) AS `user_id`, LOWER(`contracts`.`status_const`) AS `status_const` FROM `contracts`    LEFT OUTER JOIN `users` ON `users`.id = `contracts`.user_id   LEFT OUTER JOIN `contract_lines` ON (`contracts`.`id` = `contract_lines`.`contract_id`)  LEFT OUTER JOIN `models` ON (`models`.`id` = `contract_lines`.`model_id`)   LEFT OUTER JOIN `contract_lines` items_contracts_join ON (`contracts`.`id` = `items_contracts_join`.`contract_id`)  LEFT OUTER JOIN `items` ON (`items`.`id` = `items_contracts_join`.`item_id`)  WHERE `contracts`.`id` >= $start AND `contracts`.`id` <= $end AND `contracts`.`delta` = 1 GROUP BY `contracts`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `contracts` WHERE `contracts`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = inventory_pool_id
  sql_attr_uint = user_id
  sql_attr_uint = status_const
  sql_query_info = SELECT * FROM `contracts` WHERE `id` = (($id - 1) / 11)
}

index contract_delta : contract_core
{
  source = contract_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/contract_delta
}

index contract
{
  type = distributed
  local = contract_delta
  local = contract_core
}

source group_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `groups` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `groups`.`id` * 11 + 2 AS `id` , `groups`.`name` AS `name`, LOWER(`groups`.`id`) AS `sphinx_internal_id`, LOWER(2885774273) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`groups`.`name`, '')) AS `name_sort`, LOWER(`groups`.`inventory_pool_id`) AS `inventory_pool_id` FROM `groups`    WHERE `groups`.`id` >= $start AND `groups`.`id` <= $end AND `groups`.`delta` = 0 GROUP BY `groups`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `groups` WHERE `groups`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = inventory_pool_id
  sql_attr_str2ordinal = name_sort
  sql_query_info = SELECT * FROM `groups` WHERE `id` = (($id - 2) / 11)
}

index group_core
{
  source = group_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/group_core
  charset_type = utf-8
}

source group_delta_0 : group_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `groups`.`id` * 11 + 2 AS `id` , `groups`.`name` AS `name`, LOWER(`groups`.`id`) AS `sphinx_internal_id`, LOWER(2885774273) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`groups`.`name`, '')) AS `name_sort`, LOWER(`groups`.`inventory_pool_id`) AS `inventory_pool_id` FROM `groups`    WHERE `groups`.`id` >= $start AND `groups`.`id` <= $end AND `groups`.`delta` = 1 GROUP BY `groups`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `groups` WHERE `groups`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = inventory_pool_id
  sql_attr_str2ordinal = name_sort
  sql_query_info = SELECT * FROM `groups` WHERE `id` = (($id - 2) / 11)
}

index group_delta : group_core
{
  source = group_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/group_delta
}

index group
{
  type = distributed
  local = group_delta
  local = group_core
}

source inventory_pool_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `inventory_pools` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `inventory_pools`.`id` * 11 + 3 AS `id` , `inventory_pools`.`name` AS `name`, `inventory_pools`.`description` AS `description`, LOWER(`inventory_pools`.`id`) AS `sphinx_internal_id`, LOWER(2296134611) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`inventory_pools`.`name`, '')) AS `name_sort`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`access_rights`.`user_id`, '0') SEPARATOR ',')) AS `user_id` FROM `inventory_pools`    LEFT OUTER JOIN `access_rights` ON access_rights.inventory_pool_id = inventory_pools.id AND deleted_at IS NULL  WHERE `inventory_pools`.`id` >= $start AND `inventory_pools`.`id` <= $end AND `inventory_pools`.`delta` = 0 GROUP BY `inventory_pools`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `inventory_pools` WHERE `inventory_pools`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_str2ordinal = name_sort
  sql_attr_multi = uint user_id from field
  sql_query_info = SELECT * FROM `inventory_pools` WHERE `id` = (($id - 3) / 11)
}

index inventory_pool_core
{
  source = inventory_pool_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/inventory_pool_core
  charset_type = utf-8
}

source inventory_pool_delta_0 : inventory_pool_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `inventory_pools`.`id` * 11 + 3 AS `id` , `inventory_pools`.`name` AS `name`, `inventory_pools`.`description` AS `description`, LOWER(`inventory_pools`.`id`) AS `sphinx_internal_id`, LOWER(2296134611) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`inventory_pools`.`name`, '')) AS `name_sort`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`access_rights`.`user_id`, '0') SEPARATOR ',')) AS `user_id` FROM `inventory_pools`    LEFT OUTER JOIN `access_rights` ON access_rights.inventory_pool_id = inventory_pools.id AND deleted_at IS NULL  WHERE `inventory_pools`.`id` >= $start AND `inventory_pools`.`id` <= $end AND `inventory_pools`.`delta` = 1 GROUP BY `inventory_pools`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `inventory_pools` WHERE `inventory_pools`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_str2ordinal = name_sort
  sql_attr_multi = uint user_id from field
  sql_query_info = SELECT * FROM `inventory_pools` WHERE `id` = (($id - 3) / 11)
}

index inventory_pool_delta : inventory_pool_core
{
  source = inventory_pool_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/inventory_pool_delta
}

index inventory_pool
{
  type = distributed
  local = inventory_pool_delta
  local = inventory_pool_core
}

source item_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `items` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `items`.`id` * 11 + 4 AS `id` , `items`.`inventory_code` AS `inventory_code`, `items`.`serial_number` AS `serial_number`, `models`.`name` AS `model_name`, `models`.`manufacturer` AS `model_manufacturer`, `inventory_pools`.`name` AS `inventory_pool_name`, `items`.`invoice_number` AS `invoice_number`, `items`.`note` AS `note`, `items`.`name` AS `name`, LOWER(`items`.`id`) AS `sphinx_internal_id`, LOWER(3207170592) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`items`.`inventory_code`, '')) AS `inventory_code_sort`, LOWER(IFNULL(`models`.`name`, '')) AS `model_name_sort`, LOWER(`items`.`is_borrowable`) AS `is_borrowable`, LOWER(`items`.`is_broken`) AS `is_broken`, LOWER(`items`.`is_incomplete`) AS `is_incomplete`, LOWER(`items`.`is_inventory_relevant`) AS `is_inventory_relevant`, LOWER(`items`.`parent_id`) AS `parent_id`, LOWER(`items`.`model_id`) AS `model_id`, LOWER(`items`.`location_id`) AS `location_id`, LOWER(`items`.`owner_id`) AS `owner_id`, LOWER(`items`.`inventory_pool_id`) AS `inventory_pool_id`, LOWER(`items`.`supplier_id`) AS `supplier_id`, LOWER(items.id NOT IN (SELECT item_id FROM contract_lines WHERE item_id IS NOT NULL AND returned_date IS NULL) AND parent_id IS NULL) AS `in_stock`, LOWER(retired IS NOT NULL) AS `retired`, LOWER(`models`.`is_package`) AS `model_is_package` FROM `items`    LEFT OUTER JOIN `models` ON `models`.id = `items`.model_id   LEFT OUTER JOIN `inventory_pools` ON `inventory_pools`.id = `items`.inventory_pool_id  WHERE `items`.`id` >= $start AND `items`.`id` <= $end AND `items`.`delta` = 0 GROUP BY `items`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `items` WHERE `items`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = parent_id
  sql_attr_uint = model_id
  sql_attr_uint = location_id
  sql_attr_uint = owner_id
  sql_attr_uint = inventory_pool_id
  sql_attr_uint = supplier_id
  sql_attr_bool = is_borrowable
  sql_attr_bool = is_broken
  sql_attr_bool = is_incomplete
  sql_attr_bool = is_inventory_relevant
  sql_attr_bool = in_stock
  sql_attr_bool = retired
  sql_attr_bool = model_is_package
  sql_attr_str2ordinal = inventory_code_sort
  sql_attr_str2ordinal = model_name_sort
  sql_query_info = SELECT * FROM `items` WHERE `id` = (($id - 4) / 11)
}

index item_core
{
  source = item_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/item_core
  charset_type = utf-8
}

source item_delta_0 : item_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `items`.`id` * 11 + 4 AS `id` , `items`.`inventory_code` AS `inventory_code`, `items`.`serial_number` AS `serial_number`, `models`.`name` AS `model_name`, `models`.`manufacturer` AS `model_manufacturer`, `inventory_pools`.`name` AS `inventory_pool_name`, `items`.`invoice_number` AS `invoice_number`, `items`.`note` AS `note`, `items`.`name` AS `name`, LOWER(`items`.`id`) AS `sphinx_internal_id`, LOWER(3207170592) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`items`.`inventory_code`, '')) AS `inventory_code_sort`, LOWER(IFNULL(`models`.`name`, '')) AS `model_name_sort`, LOWER(`items`.`is_borrowable`) AS `is_borrowable`, LOWER(`items`.`is_broken`) AS `is_broken`, LOWER(`items`.`is_incomplete`) AS `is_incomplete`, LOWER(`items`.`is_inventory_relevant`) AS `is_inventory_relevant`, LOWER(`items`.`parent_id`) AS `parent_id`, LOWER(`items`.`model_id`) AS `model_id`, LOWER(`items`.`location_id`) AS `location_id`, LOWER(`items`.`owner_id`) AS `owner_id`, LOWER(`items`.`inventory_pool_id`) AS `inventory_pool_id`, LOWER(`items`.`supplier_id`) AS `supplier_id`, LOWER(items.id NOT IN (SELECT item_id FROM contract_lines WHERE item_id IS NOT NULL AND returned_date IS NULL) AND parent_id IS NULL) AS `in_stock`, LOWER(retired IS NOT NULL) AS `retired`, LOWER(`models`.`is_package`) AS `model_is_package` FROM `items`    LEFT OUTER JOIN `models` ON `models`.id = `items`.model_id   LEFT OUTER JOIN `inventory_pools` ON `inventory_pools`.id = `items`.inventory_pool_id  WHERE `items`.`id` >= $start AND `items`.`id` <= $end AND `items`.`delta` = 1 GROUP BY `items`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `items` WHERE `items`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = parent_id
  sql_attr_uint = model_id
  sql_attr_uint = location_id
  sql_attr_uint = owner_id
  sql_attr_uint = inventory_pool_id
  sql_attr_uint = supplier_id
  sql_attr_bool = is_borrowable
  sql_attr_bool = is_broken
  sql_attr_bool = is_incomplete
  sql_attr_bool = is_inventory_relevant
  sql_attr_bool = in_stock
  sql_attr_bool = retired
  sql_attr_bool = model_is_package
  sql_attr_str2ordinal = inventory_code_sort
  sql_attr_str2ordinal = model_name_sort
  sql_query_info = SELECT * FROM `items` WHERE `id` = (($id - 4) / 11)
}

index item_delta : item_core
{
  source = item_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/item_delta
}

index item
{
  type = distributed
  local = item_delta
  local = item_core
}

source location_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `locations` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `locations`.`id` * 11 + 5 AS `id` , `locations`.`room` AS `room`, `locations`.`shelf` AS `shelf`, `buildings`.`name` AS `building_name`, `locations`.`id` AS `id`, LOWER(`locations`.`id`) AS `sphinx_internal_id`, LOWER(2817059741) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`locations`.`room`, '')) AS `room_sort`, LOWER(IFNULL(`locations`.`shelf`, '')) AS `shelf_sort`, LOWER(IFNULL(`buildings`.`name`, '')) AS `building_name_sort`, LOWER(`locations`.`building_id`) AS `building_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`items`.`inventory_pool_id`, '0') SEPARATOR ',')) AS `inventory_pool_id` FROM `locations`    LEFT OUTER JOIN `buildings` ON `buildings`.id = `locations`.building_id   LEFT OUTER JOIN `items` ON items.location_id = locations.id  WHERE `locations`.`id` >= $start AND `locations`.`id` <= $end AND `locations`.`delta` = 0 GROUP BY `locations`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `locations` WHERE `locations`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = building_id
  sql_attr_str2ordinal = room_sort
  sql_attr_str2ordinal = shelf_sort
  sql_attr_str2ordinal = building_name_sort
  sql_attr_multi = uint inventory_pool_id from field
  sql_query_info = SELECT * FROM `locations` WHERE `id` = (($id - 5) / 11)
}

index location_core
{
  source = location_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/location_core
  charset_type = utf-8
}

source location_delta_0 : location_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `locations`.`id` * 11 + 5 AS `id` , `locations`.`room` AS `room`, `locations`.`shelf` AS `shelf`, `buildings`.`name` AS `building_name`, `locations`.`id` AS `id`, LOWER(`locations`.`id`) AS `sphinx_internal_id`, LOWER(2817059741) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`locations`.`room`, '')) AS `room_sort`, LOWER(IFNULL(`locations`.`shelf`, '')) AS `shelf_sort`, LOWER(IFNULL(`buildings`.`name`, '')) AS `building_name_sort`, LOWER(`locations`.`building_id`) AS `building_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`items`.`inventory_pool_id`, '0') SEPARATOR ',')) AS `inventory_pool_id` FROM `locations`    LEFT OUTER JOIN `buildings` ON `buildings`.id = `locations`.building_id   LEFT OUTER JOIN `items` ON items.location_id = locations.id  WHERE `locations`.`id` >= $start AND `locations`.`id` <= $end AND `locations`.`delta` = 1 GROUP BY `locations`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `locations` WHERE `locations`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = building_id
  sql_attr_str2ordinal = room_sort
  sql_attr_str2ordinal = shelf_sort
  sql_attr_str2ordinal = building_name_sort
  sql_attr_multi = uint inventory_pool_id from field
  sql_query_info = SELECT * FROM `locations` WHERE `id` = (($id - 5) / 11)
}

index location_delta : location_core
{
  source = location_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/location_delta
}

index location
{
  type = distributed
  local = location_delta
  local = location_core
}

source model_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `models` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `models`.`id` * 11 + 6 AS `id` , `models`.`name` AS `name`, `models`.`manufacturer` AS `manufacturer`, GROUP_CONCAT(DISTINCT IFNULL(`model_groups`.`name`, '0') SEPARATOR ' ') AS `category_names`, GROUP_CONCAT(DISTINCT IFNULL(`properties`.`value`, '0') SEPARATOR ' ') AS `properties_values`, GROUP_CONCAT(DISTINCT IFNULL(`items`.`inventory_code`, '0') SEPARATOR ' ') AS `items_inventory_codes`, LOWER(`models`.`id`) AS `sphinx_internal_id`, LOWER(374627805) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`models`.`name`, '')) AS `name_sort`, LOWER(IFNULL(`models`.`manufacturer`, '')) AS `manufacturer_sort`, LOWER(`models`.`is_package`) AS `is_package`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`compatibles_models`.`id`, '0') SEPARATOR ',')) AS `compatible_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`model_groups`.`id`, '0') SEPARATOR ',')) AS `category_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`unretired_items_models`.`inventory_pool_id`, '0') SEPARATOR ',')) AS `unretired_inventory_pool_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`unretired_items_models`.`owner_id`, '0') SEPARATOR ',')) AS `unretired_owner_id`, LOWER((SELECT GROUP_CONCAT(DISTINCT i.inventory_pool_id) FROM items i WHERE i.model_id = models.id AND i.parent_id IS NULL)) AS `inventory_pools_with_unpackaged_items` FROM `models`    LEFT OUTER JOIN `model_links` ON (`models`.`id` = `model_links`.`model_id`)  LEFT OUTER JOIN `model_groups` ON (`model_groups`.`id` = `model_links`.`model_group_id`) AND model_groups.`type` = 'Category'   LEFT OUTER JOIN `properties` ON properties.model_id = models.id   LEFT OUTER JOIN `items` ON items.model_id = models.id   LEFT OUTER JOIN `models_compatibles` ON `models_compatibles`.model_id = `models`.id  LEFT OUTER JOIN `models` compatibles_models ON `compatibles_models`.id = `models_compatibles`.compatible_id   LEFT OUTER JOIN `items` unretired_items_models ON unretired_items_models.model_id = models.id AND unretired_items_models.`retired` IS NULL  WHERE `models`.`id` >= $start AND `models`.`id` <= $end AND `models`.`delta` = 0 GROUP BY `models`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `models` WHERE `models`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_bool = is_package
  sql_attr_str2ordinal = name_sort
  sql_attr_str2ordinal = manufacturer_sort
  sql_attr_multi = uint compatible_id from field
  sql_attr_multi = uint category_id from field
  sql_attr_multi = uint unretired_inventory_pool_id from field
  sql_attr_multi = uint unretired_owner_id from field
  sql_attr_multi = uint inventory_pools_with_unpackaged_items from field
  sql_query_info = SELECT * FROM `models` WHERE `id` = (($id - 6) / 11)
}

index model_core
{
  source = model_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/model_core
  charset_type = utf-8
}

source model_delta_0 : model_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `models`.`id` * 11 + 6 AS `id` , `models`.`name` AS `name`, `models`.`manufacturer` AS `manufacturer`, GROUP_CONCAT(DISTINCT IFNULL(`model_groups`.`name`, '0') SEPARATOR ' ') AS `category_names`, GROUP_CONCAT(DISTINCT IFNULL(`properties`.`value`, '0') SEPARATOR ' ') AS `properties_values`, GROUP_CONCAT(DISTINCT IFNULL(`items`.`inventory_code`, '0') SEPARATOR ' ') AS `items_inventory_codes`, LOWER(`models`.`id`) AS `sphinx_internal_id`, LOWER(374627805) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`models`.`name`, '')) AS `name_sort`, LOWER(IFNULL(`models`.`manufacturer`, '')) AS `manufacturer_sort`, LOWER(`models`.`is_package`) AS `is_package`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`compatibles_models`.`id`, '0') SEPARATOR ',')) AS `compatible_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`model_groups`.`id`, '0') SEPARATOR ',')) AS `category_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`unretired_items_models`.`inventory_pool_id`, '0') SEPARATOR ',')) AS `unretired_inventory_pool_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`unretired_items_models`.`owner_id`, '0') SEPARATOR ',')) AS `unretired_owner_id`, LOWER((SELECT GROUP_CONCAT(DISTINCT i.inventory_pool_id) FROM items i WHERE i.model_id = models.id AND i.parent_id IS NULL)) AS `inventory_pools_with_unpackaged_items` FROM `models`    LEFT OUTER JOIN `model_links` ON (`models`.`id` = `model_links`.`model_id`)  LEFT OUTER JOIN `model_groups` ON (`model_groups`.`id` = `model_links`.`model_group_id`) AND model_groups.`type` = 'Category'   LEFT OUTER JOIN `properties` ON properties.model_id = models.id   LEFT OUTER JOIN `items` ON items.model_id = models.id   LEFT OUTER JOIN `models_compatibles` ON `models_compatibles`.model_id = `models`.id  LEFT OUTER JOIN `models` compatibles_models ON `compatibles_models`.id = `models_compatibles`.compatible_id   LEFT OUTER JOIN `items` unretired_items_models ON unretired_items_models.model_id = models.id AND unretired_items_models.`retired` IS NULL  WHERE `models`.`id` >= $start AND `models`.`id` <= $end AND `models`.`delta` = 1 GROUP BY `models`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `models` WHERE `models`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_bool = is_package
  sql_attr_str2ordinal = name_sort
  sql_attr_str2ordinal = manufacturer_sort
  sql_attr_multi = uint compatible_id from field
  sql_attr_multi = uint category_id from field
  sql_attr_multi = uint unretired_inventory_pool_id from field
  sql_attr_multi = uint unretired_owner_id from field
  sql_attr_multi = uint inventory_pools_with_unpackaged_items from field
  sql_query_info = SELECT * FROM `models` WHERE `id` = (($id - 6) / 11)
}

index model_delta : model_core
{
  source = model_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/model_delta
}

index model
{
  type = distributed
  local = model_delta
  local = model_core
}

source frontend_model_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `models` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `models`.`id` * 11 + 6 AS `id` , `models`.`name` AS `name`, `models`.`manufacturer` AS `manufacturer`, GROUP_CONCAT(DISTINCT IFNULL(`properties`.`value`, '0') SEPARATOR ' ') AS `properties_values`, LOWER(`models`.`id`) AS `sphinx_internal_id`, LOWER(374627805) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`models`.`name`, '')) AS `name_sort`, LOWER(IFNULL(`models`.`manufacturer`, '')) AS `manufacturer_sort`, LOWER(`models`.`is_package`) AS `is_package`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`model_groups`.`id`, '0') SEPARATOR ',')) AS `category_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`items`.`inventory_pool_id`, '0') SEPARATOR ',')) AS `borrowable_inventory_pool_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`partitions`.`group_id`, '0') SEPARATOR ',')) AS `group_id` FROM `models`    LEFT OUTER JOIN `properties` ON properties.model_id = models.id   LEFT OUTER JOIN `model_links` ON (`models`.`id` = `model_links`.`model_id`)  LEFT OUTER JOIN `model_groups` ON (`model_groups`.`id` = `model_links`.`model_group_id`) AND model_groups.`type` = 'Category'   LEFT OUTER JOIN `items` ON items.model_id = models.id AND items.`parent_id` IS NULL AND items.`is_borrowable` = 1 AND items.`retired` IS NULL   LEFT OUTER JOIN `partitions` ON partitions.model_id = models.id  WHERE `models`.`id` >= $start AND `models`.`id` <= $end AND `models`.`delta` = 0 GROUP BY `models`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `models` WHERE `models`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_bool = is_package
  sql_attr_str2ordinal = name_sort
  sql_attr_str2ordinal = manufacturer_sort
  sql_attr_multi = uint category_id from field
  sql_attr_multi = uint borrowable_inventory_pool_id from field
  sql_attr_multi = uint group_id from field
  sql_query_info = SELECT * FROM `models` WHERE `id` = (($id - 6) / 11)
}

index frontend_model_core
{
  source = frontend_model_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/frontend_model_core
  charset_type = utf-8
}

source frontend_model_delta_0 : frontend_model_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `models`.`id` * 11 + 6 AS `id` , `models`.`name` AS `name`, `models`.`manufacturer` AS `manufacturer`, GROUP_CONCAT(DISTINCT IFNULL(`properties`.`value`, '0') SEPARATOR ' ') AS `properties_values`, LOWER(`models`.`id`) AS `sphinx_internal_id`, LOWER(374627805) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`models`.`name`, '')) AS `name_sort`, LOWER(IFNULL(`models`.`manufacturer`, '')) AS `manufacturer_sort`, LOWER(`models`.`is_package`) AS `is_package`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`model_groups`.`id`, '0') SEPARATOR ',')) AS `category_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`items`.`inventory_pool_id`, '0') SEPARATOR ',')) AS `borrowable_inventory_pool_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`partitions`.`group_id`, '0') SEPARATOR ',')) AS `group_id` FROM `models`    LEFT OUTER JOIN `properties` ON properties.model_id = models.id   LEFT OUTER JOIN `model_links` ON (`models`.`id` = `model_links`.`model_id`)  LEFT OUTER JOIN `model_groups` ON (`model_groups`.`id` = `model_links`.`model_group_id`) AND model_groups.`type` = 'Category'   LEFT OUTER JOIN `items` ON items.model_id = models.id AND items.`parent_id` IS NULL AND items.`is_borrowable` = 1 AND items.`retired` IS NULL   LEFT OUTER JOIN `partitions` ON partitions.model_id = models.id  WHERE `models`.`id` >= $start AND `models`.`id` <= $end AND `models`.`delta` = 1 GROUP BY `models`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `models` WHERE `models`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_bool = is_package
  sql_attr_str2ordinal = name_sort
  sql_attr_str2ordinal = manufacturer_sort
  sql_attr_multi = uint category_id from field
  sql_attr_multi = uint borrowable_inventory_pool_id from field
  sql_attr_multi = uint group_id from field
  sql_query_info = SELECT * FROM `models` WHERE `id` = (($id - 6) / 11)
}

index frontend_model_delta : frontend_model_core
{
  source = frontend_model_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/frontend_model_delta
}

index frontend_model
{
  type = distributed
  local = frontend_model_delta
  local = frontend_model_core
}

source option_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `options` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `options`.`id` * 11 + 7 AS `id` , `options`.`inventory_code` AS `inventory_code`, `options`.`name` AS `name`, LOWER(`options`.`id`) AS `sphinx_internal_id`, LOWER(1563035014) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(`options`.`inventory_pool_id`) AS `inventory_pool_id` FROM `options`    WHERE `options`.`id` >= $start AND `options`.`id` <= $end AND `options`.`delta` = 0 GROUP BY `options`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `options` WHERE `options`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = inventory_pool_id
  sql_query_info = SELECT * FROM `options` WHERE `id` = (($id - 7) / 11)
}

index option_core
{
  source = option_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/option_core
  charset_type = utf-8
}

source option_delta_0 : option_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `options`.`id` * 11 + 7 AS `id` , `options`.`inventory_code` AS `inventory_code`, `options`.`name` AS `name`, LOWER(`options`.`id`) AS `sphinx_internal_id`, LOWER(1563035014) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(`options`.`inventory_pool_id`) AS `inventory_pool_id` FROM `options`    WHERE `options`.`id` >= $start AND `options`.`id` <= $end AND `options`.`delta` = 1 GROUP BY `options`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `options` WHERE `options`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = inventory_pool_id
  sql_query_info = SELECT * FROM `options` WHERE `id` = (($id - 7) / 11)
}

index option_delta : option_core
{
  source = option_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/option_delta
}

index option
{
  type = distributed
  local = option_delta
  local = option_core
}

source order_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `orders` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `orders`.`id` * 11 + 8 AS `id` , `orders`.`purpose` AS `purpose`, `users`.`login` AS `user_login`, `users`.`firstname` AS `user_firstname`, `users`.`lastname` AS `user_lastname`, `users`.`badge_id` AS `user_badge_id`, GROUP_CONCAT(DISTINCT IFNULL(`models`.`name`, '0') SEPARATOR ' ') AS `model_names`, LOWER(`orders`.`id`) AS `sphinx_internal_id`, LOWER(887667868) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(`orders`.`inventory_pool_id`) AS `inventory_pool_id`, LOWER(`orders`.`user_id`) AS `user_id`, LOWER(`orders`.`status_const`) AS `status_const`, LOWER(`backup_orders`.`id`) AS `backup_id` FROM `orders`    LEFT OUTER JOIN `users` ON `users`.id = `orders`.user_id   LEFT OUTER JOIN `order_lines` ON (`orders`.`id` = `order_lines`.`order_id`)  LEFT OUTER JOIN `models` ON (`models`.`id` = `order_lines`.`model_id`)   LEFT OUTER JOIN `backup_orders` ON backup_orders.order_id = orders.id  WHERE `orders`.`id` >= $start AND `orders`.`id` <= $end AND `orders`.`delta` = 0 GROUP BY `orders`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `orders` WHERE `orders`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = inventory_pool_id
  sql_attr_uint = user_id
  sql_attr_uint = status_const
  sql_attr_uint = backup_id
  sql_query_info = SELECT * FROM `orders` WHERE `id` = (($id - 8) / 11)
}

index order_core
{
  source = order_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/order_core
  charset_type = utf-8
}

source order_delta_0 : order_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `orders`.`id` * 11 + 8 AS `id` , `orders`.`purpose` AS `purpose`, `users`.`login` AS `user_login`, `users`.`firstname` AS `user_firstname`, `users`.`lastname` AS `user_lastname`, `users`.`badge_id` AS `user_badge_id`, GROUP_CONCAT(DISTINCT IFNULL(`models`.`name`, '0') SEPARATOR ' ') AS `model_names`, LOWER(`orders`.`id`) AS `sphinx_internal_id`, LOWER(887667868) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(`orders`.`inventory_pool_id`) AS `inventory_pool_id`, LOWER(`orders`.`user_id`) AS `user_id`, LOWER(`orders`.`status_const`) AS `status_const`, LOWER(`backup_orders`.`id`) AS `backup_id` FROM `orders`    LEFT OUTER JOIN `users` ON `users`.id = `orders`.user_id   LEFT OUTER JOIN `order_lines` ON (`orders`.`id` = `order_lines`.`order_id`)  LEFT OUTER JOIN `models` ON (`models`.`id` = `order_lines`.`model_id`)   LEFT OUTER JOIN `backup_orders` ON backup_orders.order_id = orders.id  WHERE `orders`.`id` >= $start AND `orders`.`id` <= $end AND `orders`.`delta` = 1 GROUP BY `orders`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `orders` WHERE `orders`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = inventory_pool_id
  sql_attr_uint = user_id
  sql_attr_uint = status_const
  sql_attr_uint = backup_id
  sql_query_info = SELECT * FROM `orders` WHERE `id` = (($id - 8) / 11)
}

index order_delta : order_core
{
  source = order_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/order_delta
}

index order
{
  type = distributed
  local = order_delta
  local = order_core
}

source template_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `model_groups` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `model_groups`.`id` * 11 + 9 AS `id` , `model_groups`.`name` AS `name`, `model_groups`.`id` AS `id`, LOWER(`model_groups`.`id`) AS `sphinx_internal_id`, LOWER(CAST(IFNULL(CRC32(NULLIF(`model_groups`.`type`,'')), 1846967765) AS UNSIGNED)) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`inventory_pools`.`id`, '0') SEPARATOR ',')) AS `inventory_pool_id` FROM `model_groups`    LEFT OUTER JOIN `inventory_pools_model_groups` ON `inventory_pools_model_groups`.model_group_id = `model_groups`.id  LEFT OUTER JOIN `inventory_pools` ON `inventory_pools`.id = `inventory_pools_model_groups`.inventory_pool_id  WHERE `model_groups`.`id` >= $start AND `model_groups`.`id` <= $end AND `model_groups`.`delta` = 0 AND `model_groups`.`type` = 'Template' GROUP BY `model_groups`.`id`, `model_groups`.`type`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `model_groups` WHERE `model_groups`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_multi = uint inventory_pool_id from field
  sql_query_info = SELECT * FROM `model_groups` WHERE `id` = (($id - 9) / 11)
}

index template_core
{
  source = template_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/template_core
  charset_type = utf-8
}

source template_delta_0 : template_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `model_groups`.`id` * 11 + 9 AS `id` , `model_groups`.`name` AS `name`, `model_groups`.`id` AS `id`, LOWER(`model_groups`.`id`) AS `sphinx_internal_id`, LOWER(CAST(IFNULL(CRC32(NULLIF(`model_groups`.`type`,'')), 1846967765) AS UNSIGNED)) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`inventory_pools`.`id`, '0') SEPARATOR ',')) AS `inventory_pool_id` FROM `model_groups`    LEFT OUTER JOIN `inventory_pools_model_groups` ON `inventory_pools_model_groups`.model_group_id = `model_groups`.id  LEFT OUTER JOIN `inventory_pools` ON `inventory_pools`.id = `inventory_pools_model_groups`.inventory_pool_id  WHERE `model_groups`.`id` >= $start AND `model_groups`.`id` <= $end AND `model_groups`.`delta` = 1 AND `model_groups`.`type` = 'Template' GROUP BY `model_groups`.`id`, `model_groups`.`type`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `model_groups` WHERE `model_groups`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_multi = uint inventory_pool_id from field
  sql_query_info = SELECT * FROM `model_groups` WHERE `id` = (($id - 9) / 11)
}

index template_delta : template_core
{
  source = template_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/template_delta
}

index template
{
  type = distributed
  local = template_delta
  local = template_core
}

source user_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = UPDATE `users` SET `delta` = 0 WHERE `delta` = 1
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `users`.`id` * 11 + 10 AS `id` , `users`.`login` AS `login`, CONCAT_WS(' ', `users`.`firstname`, `users`.`lastname`) AS `name`, `users`.`badge_id` AS `badge_id`, LOWER(`users`.`id`) AS `sphinx_internal_id`, LOWER(765557111) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`users`.`login`, '')) AS `login_sort`, LOWER(CONCAT_WS(' ', IFNULL(`users`.`firstname`, ''), IFNULL(`users`.`lastname`, ''))) AS `name_sort`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`access_rights`.`inventory_pool_id`, '0') SEPARATOR ',')) AS `inventory_pool_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`inventory_pools`.`id`, '0') SEPARATOR ',')) AS `suspended_inventory_pool_id` FROM `users`    LEFT OUTER JOIN `access_rights` ON access_rights.user_id = users.id AND access_rights.deleted_at IS NULL   LEFT OUTER JOIN `access_rights` suspended_inventory_pools_users_join ON (`users`.`id` = `suspended_inventory_pools_users_join`.`user_id`)  LEFT OUTER JOIN `inventory_pools` ON (`inventory_pools`.`id` = `suspended_inventory_pools_users_join`.`inventory_pool_id`) AND access_rights.deleted_at IS NULL AND access_rights.suspended_until IS NOT NULL AND access_rights.suspended_until >= CURDATE()  WHERE `users`.`id` >= $start AND `users`.`id` <= $end AND `users`.`delta` = 0 GROUP BY `users`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `users` WHERE `users`.`delta` = 0
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_str2ordinal = login_sort
  sql_attr_str2ordinal = name_sort
  sql_attr_multi = uint inventory_pool_id from field
  sql_attr_multi = uint suspended_inventory_pool_id from field
  sql_query_info = SELECT * FROM `users` WHERE `id` = (($id - 10) / 11)
}

index user_core
{
  source = user_core_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/user_core
  charset_type = utf-8
}

source user_delta_0 : user_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = leihs2_test
  sql_query_pre = 
  sql_query_pre = SET NAMES utf8
  sql_query_pre = SET TIME_ZONE = '+0:00'
  sql_query = SELECT SQL_NO_CACHE `users`.`id` * 11 + 10 AS `id` , `users`.`login` AS `login`, CONCAT_WS(' ', `users`.`firstname`, `users`.`lastname`) AS `name`, `users`.`badge_id` AS `badge_id`, LOWER(`users`.`id`) AS `sphinx_internal_id`, LOWER(765557111) AS `class_crc`, LOWER(0) AS `sphinx_deleted`, LOWER(IFNULL(`users`.`login`, '')) AS `login_sort`, LOWER(CONCAT_WS(' ', IFNULL(`users`.`firstname`, ''), IFNULL(`users`.`lastname`, ''))) AS `name_sort`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`access_rights`.`inventory_pool_id`, '0') SEPARATOR ',')) AS `inventory_pool_id`, LOWER(GROUP_CONCAT(DISTINCT IFNULL(`inventory_pools`.`id`, '0') SEPARATOR ',')) AS `suspended_inventory_pool_id` FROM `users`    LEFT OUTER JOIN `access_rights` ON access_rights.user_id = users.id AND access_rights.deleted_at IS NULL   LEFT OUTER JOIN `access_rights` suspended_inventory_pools_users_join ON (`users`.`id` = `suspended_inventory_pools_users_join`.`user_id`)  LEFT OUTER JOIN `inventory_pools` ON (`inventory_pools`.`id` = `suspended_inventory_pools_users_join`.`inventory_pool_id`) AND access_rights.deleted_at IS NULL AND access_rights.suspended_until IS NOT NULL AND access_rights.suspended_until >= CURDATE()  WHERE `users`.`id` >= $start AND `users`.`id` <= $end AND `users`.`delta` = 1 GROUP BY `users`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `users` WHERE `users`.`delta` = 1
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_str2ordinal = login_sort
  sql_attr_str2ordinal = name_sort
  sql_attr_multi = uint inventory_pool_id from field
  sql_attr_multi = uint suspended_inventory_pool_id from field
  sql_query_info = SELECT * FROM `users` WHERE `id` = (($id - 10) / 11)
}

index user_delta : user_core
{
  source = user_delta_0
  path = /Users/itz/Documents/workspace/leihs/db/sphinx/cucumber/user_delta
}

index user
{
  type = distributed
  local = user_delta
  local = user_core
}
