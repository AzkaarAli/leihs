<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

  <title>Module: RoleRequirementTestHelper</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="module">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./lib/role_requirement_test_helper_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/role_requirement_test_helper.rb">lib/role_requirement_test_helper.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-assert_user_can_access">#assert_user_can_access</a></li>
          
          <li><a href="#method-i-assert_user_cannot_access">#assert_user_cannot_access</a></li>
          
          <li><a href="#method-i-assert_user_cant_access">#assert_user_cant_access</a></li>
          
          <li><a href="#method-i-assert_users_access">#assert_users_access</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./Backend.html">Backend</a></li>
        
          <li><a href="./Backend/AcknowledgeController.html">Backend::AcknowledgeController</a></li>
        
          <li><a href="./Backend/AcknowledgeHelper.html">Backend::AcknowledgeHelper</a></li>
        
          <li><a href="./Backend/AvailabilityController.html">Backend::AvailabilityController</a></li>
        
          <li><a href="./Backend/AvailabilityHelper.html">Backend::AvailabilityHelper</a></li>
        
          <li><a href="./Backend/BackendController.html">Backend::BackendController</a></li>
        
          <li><a href="./Backend/BackendHelper.html">Backend::BackendHelper</a></li>
        
          <li><a href="./Backend/BarcodesController.html">Backend::BarcodesController</a></li>
        
          <li><a href="./Backend/CategoriesController.html">Backend::CategoriesController</a></li>
        
          <li><a href="./Backend/CategoriesHelper.html">Backend::CategoriesHelper</a></li>
        
          <li><a href="./Backend/ContractsController.html">Backend::ContractsController</a></li>
        
          <li><a href="./Backend/GroupsController.html">Backend::GroupsController</a></li>
        
          <li><a href="./Backend/HandOverController.html">Backend::HandOverController</a></li>
        
          <li><a href="./Backend/HandOverHelper.html">Backend::HandOverHelper</a></li>
        
          <li><a href="./Backend/InventoryImport.html">Backend::InventoryImport</a></li>
        
          <li><a href="./Backend/InventoryImport/ImporterController.html">Backend::InventoryImport::ImporterController</a></li>
        
          <li><a href="./Backend/InventoryPoolsController.html">Backend::InventoryPoolsController</a></li>
        
          <li><a href="./Backend/ItemsController.html">Backend::ItemsController</a></li>
        
          <li><a href="./Backend/ItemsHelper.html">Backend::ItemsHelper</a></li>
        
          <li><a href="./Backend/LocationsController.html">Backend::LocationsController</a></li>
        
          <li><a href="./Backend/MailsController.html">Backend::MailsController</a></li>
        
          <li><a href="./Backend/MailsHelper.html">Backend::MailsHelper</a></li>
        
          <li><a href="./Backend/ModelsController.html">Backend::ModelsController</a></li>
        
          <li><a href="./Backend/ModelsHelper.html">Backend::ModelsHelper</a></li>
        
          <li><a href="./Backend/OptionsController.html">Backend::OptionsController</a></li>
        
          <li><a href="./Backend/OrdersController.html">Backend::OrdersController</a></li>
        
          <li><a href="./Backend/TakeBackController.html">Backend::TakeBackController</a></li>
        
          <li><a href="./Backend/TemplatesController.html">Backend::TemplatesController</a></li>
        
          <li><a href="./Backend/UsersController.html">Backend::UsersController</a></li>
        
          <li><a href="./Backend/UsersHelper.html">Backend::UsersHelper</a></li>
        
          <li><a href="./Backend/WorkdaysController.html">Backend::WorkdaysController</a></li>
        
          <li><a href="./Availability.html">Availability</a></li>
        
          <li><a href="./Availability/Change.html">Availability::Change</a></li>
        
          <li><a href="./Availability/Changes.html">Availability::Changes</a></li>
        
          <li><a href="./Availability/DocumentLine.html">Availability::DocumentLine</a></li>
        
          <li><a href="./Availability/Group.html">Availability::Group</a></li>
        
          <li><a href="./Availability/InventoryPool.html">Availability::InventoryPool</a></li>
        
          <li><a href="./Availability/Main.html">Availability::Main</a></li>
        
          <li><a href="./Availability/Model.html">Availability::Model</a></li>
        
          <li><a href="./Availability/Observer.html">Availability::Observer</a></li>
        
          <li><a href="./Availability/Quantity.html">Availability::Quantity</a></li>
        
          <li><a href="./Authenticator.html">Authenticator</a></li>
        
          <li><a href="./Authenticator/AuthenticatorController.html">Authenticator::AuthenticatorController</a></li>
        
          <li><a href="./Authenticator/DatabaseAuthenticationController.html">Authenticator::DatabaseAuthenticationController</a></li>
        
          <li><a href="./Authenticator/LdapAuthenticationController.html">Authenticator::LdapAuthenticationController</a></li>
        
          <li><a href="./Authenticator/ShibbolethAuthenticationController.html">Authenticator::ShibbolethAuthenticationController</a></li>
        
          <li><a href="./Authenticator/ZhdkController.html">Authenticator::ZhdkController</a></li>
        
          <li><a href="./Backup.html">Backup</a></li>
        
          <li><a href="./Backup/Order.html">Backup::Order</a></li>
        
          <li><a href="./Backup/OrderLine.html">Backup::OrderLine</a></li>
        
          <li><a href="./Mailer.html">Mailer</a></li>
        
          <li><a href="./Mailer/Order.html">Mailer::Order</a></li>
        
          <li><a href="./Mailer/User.html">Mailer::User</a></li>
        
          <li><a href="./RoleRequirementSystem.html">RoleRequirementSystem</a></li>
        
          <li><a href="./RoleRequirementSystem/RoleSecurityClassMethods.html">RoleRequirementSystem::RoleSecurityClassMethods</a></li>
        
          <li><a href="./RoleRequirementSystem/RoleSecurityInstanceMethods.html">RoleRequirementSystem::RoleSecurityInstanceMethods</a></li>
        
          <li><a href="./AccessRight.html">AccessRight</a></li>
        
          <li><a href="./Accessory.html">Accessory</a></li>
        
          <li><a href="./ApplicationController.html">ApplicationController</a></li>
        
          <li><a href="./ApplicationHelper.html">ApplicationHelper</a></li>
        
          <li><a href="./Attachment.html">Attachment</a></li>
        
          <li><a href="./AuthenticatedSystem.html">AuthenticatedSystem</a></li>
        
          <li><a href="./AuthenticatedTestHelper.html">AuthenticatedTestHelper</a></li>
        
          <li><a href="./AuthenticationSystem.html">AuthenticationSystem</a></li>
        
          <li><a href="./Building.html">Building</a></li>
        
          <li><a href="./CategoriesController.html">CategoriesController</a></li>
        
          <li><a href="./Category.html">Category</a></li>
        
          <li><a href="./Contract.html">Contract</a></li>
        
          <li><a href="./ContractLine.html">ContractLine</a></li>
        
          <li><a href="./ContractsController.html">ContractsController</a></li>
        
          <li><a href="./DatabaseAuthentication.html">DatabaseAuthentication</a></li>
        
          <li><a href="./Document.html">Document</a></li>
        
          <li><a href="./DocumentLine.html">DocumentLine</a></li>
        
          <li><a href="./Event.html">Event</a></li>
        
          <li><a href="./Factory.html">Factory</a></li>
        
          <li><a href="./FrontendController.html">FrontendController</a></li>
        
          <li><a href="./FrontendHelper.html">FrontendHelper</a></li>
        
          <li><a href="./Group.html">Group</a></li>
        
          <li><a href="./Hijacker.html">Hijacker</a></li>
        
          <li><a href="./History.html">History</a></li>
        
          <li><a href="./Holiday.html">Holiday</a></li>
        
          <li><a href="./Image.html">Image</a></li>
        
          <li><a href="./Importer.html">Importer</a></li>
        
          <li><a href="./InventoryPool.html">InventoryPool</a></li>
        
          <li><a href="./Item.html">Item</a></li>
        
          <li><a href="./ItemLine.html">ItemLine</a></li>
        
          <li><a href="./Language.html">Language</a></li>
        
          <li><a href="./Location.html">Location</a></li>
        
          <li><a href="./LooksLike.html">LooksLike</a></li>
        
          <li><a href="./Model.html">Model</a></li>
        
          <li><a href="./ModelGroup.html">ModelGroup</a></li>
        
          <li><a href="./ModelGroupLink.html">ModelGroupLink</a></li>
        
          <li><a href="./ModelLink.html">ModelLink</a></li>
        
          <li><a href="./ModelsController.html">ModelsController</a></li>
        
          <li><a href="./Notification.html">Notification</a></li>
        
          <li><a href="./Option.html">Option</a></li>
        
          <li><a href="./OptionLine.html">OptionLine</a></li>
        
          <li><a href="./Order.html">Order</a></li>
        
          <li><a href="./OrderLine.html">OrderLine</a></li>
        
          <li><a href="./OrdersController.html">OrdersController</a></li>
        
          <li><a href="./Partition.html">Partition</a></li>
        
          <li><a href="./Property.html">Property</a></li>
        
          <li><a href="./QuickProfilingHelper.html">QuickProfilingHelper</a></li>
        
          <li><a href="./Role.html">Role</a></li>
        
          <li><a href="./RoleRequirementTestHelper.html">RoleRequirementTestHelper</a></li>
        
          <li><a href="./ScopedPartitions.html">ScopedPartitions</a></li>
        
          <li><a href="./SessionsController.html">SessionsController</a></li>
        
          <li><a href="./Supplier.html">Supplier</a></li>
        
          <li><a href="./Template.html">Template</a></li>
        
          <li><a href="./TemplatesController.html">TemplatesController</a></li>
        
          <li><a href="./User.html">User</a></li>
        
          <li><a href="./UsersController.html">UsersController</a></li>
        
          <li><a href="./Workday.html">Workday</a></li>
        
          <li><a href="./WorkdaysHelper.html">WorkdaysHelper</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="module">RoleRequirementTestHelper</h1>

    <div id="description" class="description">
      
<p>Include this is test_helper.rb to enable test-case helper support for
RoleRequirement via:</p>

<pre>include RoleRequirementTestHelper</pre>

<p><a href="RoleRequirementTestHelper.html">RoleRequirementTestHelper</a> uses
the power of ruby to temporarily “hijack” your target action.  (don’t
worry, it puts things back the way it was after it runs) This means that
the only thing that will be tested is whether or not the action can be
accessed with a given circumstances. Any authentication you implement
inside of your action will be ignored.</p>

    </div><!-- description -->

    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="assert_user_can_access-method" class="method-detail ">
          <a name="method-i-assert_user_can_access"></a>

          
          <div class="method-heading">
            <span class="method-name">assert_user_can_access</span><span
              class="method-args">(user, actions, params = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Makes sure a user can access the given action</p>

<p>Example:</p>

<pre>assert_user_can_access(:quentin, &quot;index&quot;)</pre>
            

            
            <div class="method-source-code" id="assert_user_can_access-source">
<pre>
<span class="ruby-comment"># File lib/role_requirement_test_helper.rb, line 16</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_user_can_access</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">actions</span>, <span class="ruby-identifier">params</span> = {})
  <span class="ruby-identifier">assert_user_access_check</span>(<span class="ruby-keyword">true</span>, <span class="ruby-identifier">user</span>, <span class="ruby-identifier">actions</span>, <span class="ruby-identifier">params</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- assert_user_can_access-source -->
            
          </div>

          

          
        </div><!-- assert_user_can_access-method -->

      
        <div id="assert_user_cannot_access-method" class="method-detail method-alias">
          <a name="method-i-assert_user_cannot_access"></a>

          
          <div class="method-heading">
            <span class="method-name">assert_user_cannot_access</span><span
              class="method-args">(user, actions, params = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="RoleRequirementTestHelper.html#method-i-assert_user_cant_access">assert_user_cant_access</a>
          </div>
          
        </div><!-- assert_user_cannot_access-method -->

      
        <div id="assert_user_cant_access-method" class="method-detail ">
          <a name="method-i-assert_user_cant_access"></a>

          
          <div class="method-heading">
            <span class="method-name">assert_user_cant_access</span><span
              class="method-args">(user, actions, params = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Makes sure a user cant access the given action</p>

<p>Example:</p>

<pre>assert_user_cant_access(:quentin, &quot;destroy&quot;, :listing_id =&gt; 1)</pre>
            

            
            <div class="method-source-code" id="assert_user_cant_access-source">
<pre>
<span class="ruby-comment"># File lib/role_requirement_test_helper.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_user_cant_access</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">actions</span>, <span class="ruby-identifier">params</span> = {})
  <span class="ruby-identifier">assert_user_access_check</span>(<span class="ruby-keyword">false</span>, <span class="ruby-identifier">user</span>, <span class="ruby-identifier">actions</span>, <span class="ruby-identifier">params</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- assert_user_cant_access-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="RoleRequirementTestHelper.html#method-i-assert_user_cannot_access">assert_user_cannot_access</a>
          </div>
          

          
        </div><!-- assert_user_cant_access-method -->

      
        <div id="assert_users_access-method" class="method-detail ">
          <a name="method-i-assert_users_access"></a>

          
          <div class="method-heading">
            <span class="method-name">assert_users_access</span><span
              class="method-args">(users_access_list, actions, params = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Check a list of users against a set of actions with parameters.</p>

<p>Parameters:</p>

<pre>users_access_list - a hash where the key is the label for a fixture, and the value is a boolean.
actions - a list of actions to test against
params - a hash containing the parameters to pass to each test call to the controller.</pre>

<p>Example:</p>

<pre>assert_user_access(
  {:admin =&gt; true, :quentin =&gt; false }, 
  [:show, :edit], 
  {:listing_id =&gt; 1})</pre>
            

            
            <div class="method-source-code" id="assert_users_access-source">
<pre>
<span class="ruby-comment"># File lib/role_requirement_test_helper.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_users_access</span>(<span class="ruby-identifier">users_access_list</span>, <span class="ruby-identifier">actions</span>, <span class="ruby-identifier">params</span> = {})
  <span class="ruby-identifier">users_access_list</span>.<span class="ruby-identifier">each_pair</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">user</span>, <span class="ruby-identifier">access</span><span class="ruby-operator">|</span> 
    <span class="ruby-identifier">assert_user_access_check</span>(<span class="ruby-identifier">access</span>, <span class="ruby-identifier">user</span>, <span class="ruby-identifier">actions</span>, <span class="ruby-identifier">params</span>)
  }
<span class="ruby-keyword">end</span></pre>
            </div><!-- assert_users_access-source -->
            
          </div>

          

          
        </div><!-- assert_users_access-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

